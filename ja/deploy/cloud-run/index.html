<!--
 Copyright 2025 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->


<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Build powerful multi-agent systems with Agent Development Kit">
      
      
      
        <link rel="canonical" href="https://adk-labs.github.io/adk-docs/ja/deploy/cloud-run/">
      
      
        <link rel="prev" href="../agent-engine/">
      
      
        <link rel="next" href="../gke/">
      
      
      <link rel="icon" href="../../../assets/agent-development-kit.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Cloud Run - Agent Development Kit</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <!-- HTML Meta Tags -->
  <title>Agent Development Kit</title>
  <meta name="description" content="Build powerful multi-agent systems with Agent Development Kit">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://google.github.io/adk-docs">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Agent Development Kit">
  <meta property="og:description" content="Build powerful multi-agent systems with Agent Development Kit">
  <meta property="og:image" content="https://google.github.io/adk-docs/assets/adk-social-card.png">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="google.github.io">
  <meta property="twitter:url" content="https://google.github.io/adk-docs">
  <meta name="twitter:title" content="Agent Development Kit">
  <meta name="twitter:description" content="Build powerful multi-agent systems with Agent Development Kit">
  <meta name="twitter:image" content="https://google.github.io/adk-docs/assets/adk-social-card.png">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cloud-run" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
 Copyright 2025 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="ヘッダー"
  >

    <!-- Link to home -->
    <a
      href="../../"
      title="Agent Development Kit"
      class="md-header__button md-logo"
      aria-label="Agent Development Kit"
      data-md-component="logo"
    >
      
  <img src="../../../assets/agent-development-kit.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            <a
      href="../../"
      title="Agent Development Kit"
      aria-label="Agent Development Kit"
      data-md-component="logo"
    >
            Agent Development Kit
            </a>
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloud Run
            
            </a>
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../deploy/cloud-run/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ko/deploy/cloud-run/" hreflang="ko" class="md-select__link">
              한국어
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    

    <!-- Button to open search modal -->
    
      

      <!-- Check if search is actually enabled - see https://t.ly/DT_0V -->
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>

        <!-- Search interface -->
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <!-- First Repository information -->
<a
  href="https://github.com/google/adk-python"
  title="リポジトリへ"
  class="md-source"
  data-md-component="source"
  style="margin-right: 10px;"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-python
  </div>
</a>

<!-- Second Repository information -->
<a
  href="https://github.com/google/adk-java"
  title="adk-java"
  class="md-source"
  data-md-component="source"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-java
  </div>
</a> 
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="Agent Development Kit" class="md-nav__button md-logo" aria-label="Agent Development Kit" data-md-component="logo">
      
  <img src="../../../assets/agent-development-kit.png" alt="logo">

    </a>
    Agent Development Kit
  </label>
  
    <div class="md-nav__source">
      <!-- First Repository information -->
<a
  href="https://github.com/google/adk-python"
  title="リポジトリへ"
  class="md-source"
  data-md-component="source"
  style="margin-right: 10px;"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-python
  </div>
</a>

<!-- Second Repository information -->
<a
  href="https://github.com/google/adk-java"
  title="adk-java"
  class="md-source"
  data-md-component="source"
>
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    adk-java
  </div>
</a> 
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ホーム
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../get-started/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    はじめに
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            はじめに
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    インストール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    クイックスタート
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../get-started/streaming/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    クイックスタート(ストリーミング)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            クイックスタート(ストリーミング)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/streaming/quickstart-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/streaming/quickstart-streaming-java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    テスト
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/google/adk-samples" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    サンプルエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ADKについて
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorials/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    チュートリアル
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            チュートリアル
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/agent-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    エージェントチーム
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../agents/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    エージェント
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            エージェント
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/llm-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLMエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../agents/workflow-agents/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ワークフローエージェント
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            ワークフローエージェント
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/workflow-agents/sequential-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    シーケンシャルエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/workflow-agents/loop-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ループエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/workflow-agents/parallel-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    パラレルエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/custom-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    カスタムエージェント
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/multi-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    マルチエージェントシステム
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    モデル定義
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ツール
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ツール
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/function-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    関数ツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/built-in-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    内蔵ツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/third-party-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    サードパーティツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/google-cloud-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Cloudツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/mcp-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCPツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/openapi-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenAPIツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    認証
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../runtime/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    エージェントの実行
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            エージェントの実行
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runtime/runconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ランタイム設定
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    デプロイ
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            デプロイ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    エージェントエンジン
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Cloud Run
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Cloud Run
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      エージェントのサンプル
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      デプロイコマンド
    </span>
  </a>
  
    <nav class="md-nav" aria-label="デプロイコマンド">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adk-cli" class="md-nav__link">
    <span class="md-ellipsis">
      adk CLI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="adk CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数の設定
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gke/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GKE
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../sessions/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    セッションとメモリ
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            セッションとメモリ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    セッション
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ステート
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sessions/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    メモリ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../callbacks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    コールバック
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            コールバック
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../callbacks/types-of-callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    コールバックの種類
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../callbacks/design-patterns-and-best-practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    デザインパターンとベストプラクティス
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../artifacts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    アーティファクト
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            アーティファクト
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../events/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    イベント
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            イベント
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../context/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    コンテキスト
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            コンテキスト
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    オブザーバビリティ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            オブザーバビリティ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/arize-ax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arize AX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/phoenix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phoenix
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../evaluate/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    評価
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            評価
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../mcp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    MCP
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            MCP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../streaming/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    双方向ストリーミング(ライブ)
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_16" id="__nav_16_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            双方向ストリーミング(ライブ)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-started/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ストリーミング
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming/custom-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    カスタム音声双方向ストリーミングアプリのサンプル (SSE)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming/custom-streaming-ws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    カスタム音声双方向ストリーミングアプリのサンプル (WebSockets)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming/dev-guide/part1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    双方向ストリーミング開発ガイドシリーズ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming/streaming-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ストリーミングツール
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../streaming/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    双方向ストリーミングの動作設定
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../safety/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安全性とセキュリティ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/google/A2A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent2Agent (A2A) プロトコル
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    コミュニティリソース
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    コントリビューションガイド
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_21" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    APIリファレンス
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_21" id="__nav_21_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_21">
            <span class="md-nav__icon md-icon"></span>
            APIリファレンス
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://google.github.io/adk-docs/api-reference/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python ADK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://google.github.io/adk-docs/api-reference/java/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java ADK
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      エージェントのサンプル
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      デプロイコマンド
    </span>
  </a>
  
    <nav class="md-nav" aria-label="デプロイコマンド">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adk-cli" class="md-nav__link">
    <span class="md-ellipsis">
      adk CLI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="adk CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      環境変数の設定
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="cloud-run">Cloud Runへのデプロイ<a class="headerlink" href="#cloud-run" title="Permanent link">&para;</a></h1>
<p><a href="https://cloud.google.com/run">Cloud Run</a>は、Googleのスケーラブルなインフラストラクチャ上で直接コードを実行できる、フルマネージドのプラットフォームです。</p>
<p>エージェントをデプロイするには、<code>adk deploy cloud_run</code>コマンド（<em>Pythonに推奨</em>）を使用するか、Cloud Runを介して<code>gcloud run deploy</code>コマンドを使用する方法があります。</p>
<h2 id="_1">エージェントのサンプル<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>各コマンドでは、<a href="../../agents/llm-agents/">LLMエージェント</a>ページで定義されている<code>Capital Agent</code>のサンプルを参照します。これはディレクトリ（例：<code>capital_agent</code>）内にあると仮定します。</p>
<p>先に進む前に、エージェントのコードが以下のように設定されていることを確認してください：</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="python" name="__tabbed_1" type="radio" /><input id="java" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="python">Python</label><label for="java">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>エージェントのコードは、エージェントディレクトリ内の<code>agent.py</code>というファイルにあります。</li>
<li>エージェント変数の名前は<code>root_agent</code>です。</li>
<li><code>__init__.py</code>がエージェントディレクトリ内にあり、<code>from . import agent</code>を含んでいます。</li>
</ol>
</div>
<div class="tabbed-block">
<ol>
<li>エージェントのコードは、エージェントディレクトリ内の<code>CapitalAgent.java</code>というファイルにあります。</li>
<li>エージェント変数はグローバルで、<code>public static BaseAgent ROOT_AGENT</code>の形式に従います。</li>
<li>エージェントの定義は静的クラスメソッド内に存在します。</li>
</ol>
<p>詳細については、以下のセクションを参照してください。Githubリポジトリには<a href="https://github.com/google/adk-docs/tree/main/examples/java/cloud-run">サンプルアプリ</a>もあります。</p>
</div>
</div>
</div>
<h2 id="_2">環境変数<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><a href="../../get-started/installation/">セットアップとインストール</a>ガイドで説明されているように、環境変数を設定します。</p>
<p><code>bash
export GOOGLE_CLOUD_PROJECT=your-project-id
export GOOGLE_CLOUD_LOCATION=us-central1 # またはお好みのロケーション
export GOOGLE_GENAI_USE_VERTEXAI=True</code></p>
<p><em>（<code>your-project-id</code>を実際のGCPプロジェクトIDに置き換えてください）</em></p>
<h2 id="_3">デプロイコマンド<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="python---adk-cli" name="__tabbed_2" type="radio" /><input id="python---gcloud-cli" name="__tabbed_2" type="radio" /><input id="java---gcloud-cli" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="python---adk-cli">Python - adk CLI</label><label for="python---gcloud-cli">Python - gcloud CLI</label><label for="java---gcloud-cli">Java - gcloud CLI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h3 id="adk-cli">adk CLI<a class="headerlink" href="#adk-cli" title="Permanent link">&para;</a></h3>
<p><code>adk deploy cloud_run</code>コマンドは、エージェントのコードをGoogle Cloud Runにデプロイします。</p>
<p>Google Cloudで認証済みであることを確認してください（<code>gcloud auth login</code>および<code>gcloud config set project &lt;your-project-id&gt;</code>）。</p>
<h4 id="_4">環境変数の設定<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>オプションですが推奨：環境変数を設定すると、デプロイコマンドがすっきりします。</p>
<p>```bash</p>
<h1 id="google-cloudid">Google CloudプロジェクトIDを設定<a class="headerlink" href="#google-cloudid" title="Permanent link">&para;</a></h1>
<p>export GOOGLE_CLOUD_PROJECT="your-gcp-project-id"</p>
<h1 id="google-cloud">希望するGoogle Cloudのロケーションを設定<a class="headerlink" href="#google-cloud" title="Permanent link">&para;</a></h1>
<p>export GOOGLE_CLOUD_LOCATION="us-central1" # 例：ロケーション</p>
<h1 id="_5">エージェントコードディレクトリへのパスを設定<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h1>
<p>export AGENT_PATH="./capital_agent" # capital_agentが現在のディレクトリにあると仮定</p>
<h1 id="cloud-run_1">Cloud Runサービスの名前を設定（オプション）<a class="headerlink" href="#cloud-run_1" title="Permanent link">&para;</a></h1>
<p>export SERVICE_NAME="capital-agent-service"</p>
<h1 id="_6">アプリケーション名を設定（オプション）<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h1>
<p>export APP_NAME="capital-agent-app"
```</p>
<h4 id="_7">コマンドの使用法<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<h5 id="_8">最小限のコマンド<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h5>
<p><code>bash
adk deploy cloud_run \
--project=$GOOGLE_CLOUD_PROJECT \
--region=$GOOGLE_CLOUD_LOCATION \
$AGENT_PATH</code></p>
<h5 id="_9">オプションフラグ付きの完全なコマンド<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h5>
<p><code>bash
adk deploy cloud_run \
--project=$GOOGLE_CLOUD_PROJECT \
--region=$GOOGLE_CLOUD_LOCATION \
--service_name=$SERVICE_NAME \
--app_name=$APP_NAME \
--with_ui \
$AGENT_PATH</code></p>
<h5 id="_10">引数<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h5>
<ul>
<li><code>AGENT_PATH</code>: (必須) エージェントのソースコードを含むディレクトリへのパスを指定する位置引数（例：例では<code>$AGENT_PATH</code>、または<code>capital_agent/</code>）。このディレクトリには、少なくとも<code>__init__.py</code>とメインのエージェントファイル（例：<code>agent.py</code>）が含まれている必要があります。</li>
</ul>
<h5 id="_11">オプション<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h5>
<ul>
<li><code>--project TEXT</code>: (必須) あなたのGoogle CloudプロジェクトID（例：<code>$GOOGLE_CLOUD_PROJECT</code>）。</li>
<li><code>--region TEXT</code>: (必須) デプロイするGoogle Cloudのロケーション（例：<code>$GOOGLE_CLOUD_LOCATION</code>、<code>us-central1</code>）。</li>
<li><code>--service_name TEXT</code>: (オプション) Cloud Runサービスの名前（例：<code>$SERVICE_NAME</code>）。デフォルトは<code>adk-default-service-name</code>。</li>
<li><code>--app_name TEXT</code>: (オプション) ADK APIサーバーのアプリケーション名（例：<code>$APP_NAME</code>）。デフォルトは<code>AGENT_PATH</code>で指定されたディレクトリの名前（例：<code>AGENT_PATH</code>が<code>./capital_agent</code>なら<code>capital_agent</code>）。</li>
<li><code>--agent_engine_id TEXT</code>: (オプション) Vertex AI Agent Engineを介してマネージドセッションサービスを使用している場合、そのリソースIDをここで提供します。</li>
<li><code>--port INTEGER</code>: (オプション) コンテナ内でADK APIサーバーがリッスンするポート番号。デフォルトは8000。</li>
<li><code>--with_ui</code>: (オプション) これを含めると、エージェントAPIサーバーと共にADK開発UIもデプロイされます。デフォルトでは、APIサーバーのみがデプロイされます。</li>
<li><code>--temp_folder TEXT</code>: (オプション) デプロイプロセス中に生成される中間ファイルを保存するディレクトリを指定します。デフォルトは、システムの一次ディレクトリ内のタイムスタンプ付きフォルダです。<em>（注：このオプションは、問題をトラブルシューティングする場合を除き、通常は不要です）</em>。</li>
<li><code>--help</code>: ヘルプメッセージを表示して終了します。</li>
</ul>
<h5 id="_12">認証アクセス<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h5>
<p>デプロイプロセス中に、「<code>[your-service-name]</code>への未認証の呼び出しを許可しますか？(y/N)?」と尋ねられることがあります。</p>
<ul>
<li>認証なしでエージェントのAPIエンドポイントへのパブリックアクセスを許可する場合は<code>y</code>を入力します。</li>
<li>認証を要求する場合（例：「エージェントのテスト」セクションで示すIDトークンの使用）は<code>N</code>を入力するか、デフォルトでEnterキーを押します。</li>
</ul>
<p>正常に実行されると、コマンドはエージェントをCloud Runにデプロイし、デプロイされたサービスのURLを提供します。</p>
</div>
<div class="tabbed-block">
<h3 id="gcloud-cli">gcloud CLI<a class="headerlink" href="#gcloud-cli" title="Permanent link">&para;</a></h3>
<p>または、標準の<code>gcloud run deploy</code>コマンドと<code>Dockerfile</code>を使用してデプロイすることもできます。この方法は<code>adk</code>コマンドと比較して手動でのセットアップが多く必要ですが、特にカスタムの<a href="https://fastapi.tiangolo.com/">FastAPI</a>アプリケーションにエージェントを埋め込みたい場合に柔軟性を提供します。</p>
<p>Google Cloudで認証済みであることを確認してください（<code>gcloud auth login</code>および<code>gcloud config set project &lt;your-project-id&gt;</code>）。</p>
<h4 id="_13">プロジェクト構造<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>プロジェクトファイルを以下のように整理します：</p>
<p><code>txt
your-project-directory/
├── capital_agent/
│   ├── __init__.py
│   └── agent.py       # エージェントのコード（「エージェントのサンプル」タブを参照）
├── main.py            # FastAPIアプリケーションのエントリポイント
├── requirements.txt   # Pythonの依存関係
└── Dockerfile         # コンテナのビルド手順</code></p>
<p><code>your-project-directory/</code>のルートに以下のファイル（<code>main.py</code>、<code>requirements.txt</code>、<code>Dockerfile</code>）を作成します。</p>
<h4 id="_14">コードファイル<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>このファイルは、ADKの<code>get_fast_api_app()</code>を使用してFastAPIアプリケーションをセットアップします：</p>
<p>```python title="main.py"
import os</p>
<p>import uvicorn
from google.adk.cli.fast_api import get_fast_api_app</p>
<h1 id="mainpy">main.pyが配置されているディレクトリを取得<a class="headerlink" href="#mainpy" title="Permanent link">&para;</a></h1>
<p>AGENT_DIR = os.path.dirname(os.path.abspath(<strong>file</strong>))</p>
<h1 id="dburlsqlite">セッションDBのURL例（例：SQLite）<a class="headerlink" href="#dburlsqlite" title="Permanent link">&para;</a></h1>
<p>SESSION_DB_URL = "sqlite:///./sessions.db"</p>
<h1 id="cors">CORSの許可オリジン例<a class="headerlink" href="#cors" title="Permanent link">&para;</a></h1>
<p>ALLOWED_ORIGINS = ["http://localhost", "http://localhost:8080", "*"]</p>
<h1 id="webwebtruefalse">Webインターフェースを提供する場合はweb=True、それ以外はFalseに設定<a class="headerlink" href="#webwebtruefalse" title="Permanent link">&para;</a></h1>
<p>SERVE_WEB_INTERFACE = True</p>
<h1 id="fastapi">FastAPIアプリインスタンスを取得する関数を呼び出す<a class="headerlink" href="#fastapi" title="Permanent link">&para;</a></h1>
<h1 id="capital_agent">エージェントディレクトリ名（'capital_agent'）がエージェントフォルダと一致することを確認<a class="headerlink" href="#capital_agent" title="Permanent link">&para;</a></h1>
<p>app = get_fast_api_app(
    agents_dir=AGENT_DIR,
    session_service_uri=SESSION_DB_URL,
    allow_origins=ALLOWED_ORIGINS,
    web=SERVE_WEB_INTERFACE,
)</p>
<h1 id="fastapi_1">必要に応じて、以下にFastAPIのルートや設定を追加できます<a class="headerlink" href="#fastapi_1" title="Permanent link">&para;</a></h1>
<h1 id="_15">例：<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h1>
<h1 id="appgethello">@app.get("/hello")<a class="headerlink" href="#appgethello" title="Permanent link">&para;</a></h1>
<h1 id="async-def-read_root">async def read_root():<a class="headerlink" href="#async-def-read_root" title="Permanent link">&para;</a></h1>
<h1 _Hello_:="&quot;Hello&quot;:" _World_="&quot;World&quot;" id="return">return<a class="headerlink" href="#return" title="Permanent link">&para;</a></h1>
<p>if <strong>name</strong> == "<strong>main</strong>":
    # Cloud Runから提供されるPORT環境変数を使用し、デフォルトは8080
    uvicorn.run(app, host="0.0.0.0", port=int(os.environ.get("PORT", 8080)))
```</p>
<p><em>注：<code>agent_dir</code>を<code>main.py</code>があるディレクトリに指定し、Cloud Runとの互換性のために<code>os.environ.get("PORT", 8080)</code>を使用します。</em></p>
</li>
<li>
<p>必要なPythonパッケージをリストアップします：</p>
<p>```txt title="requirements.txt"
google_adk</p>
<h1 id="_16">エージェントが必要とするその他の依存関係を追加<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h1>
<p>```</p>
</li>
<li>
<p>コンテナイメージを定義します：</p>
<p>```dockerfile title="Dockerfile"
FROM python:3.13-slim
WORKDIR /app</p>
<p>COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt</p>
<p>RUN adduser --disabled-password --gecos "" myuser &amp;&amp; \
    chown -R myuser:myuser /app</p>
<p>COPY . .</p>
<p>USER myuser</p>
<p>ENV PATH="/home/myuser/.local/bin:$PATH"</p>
<p>CMD ["sh", "-c", "uvicorn main:app --host 0.0.0.0 --port $PORT"]
```</p>
</li>
</ol>
<h4 id="_17">複数のエージェントの定義<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<p><code>your-project-directory/</code>のルートに個別のフォルダを作成することで、同じCloud Runインスタンス内に複数のエージェントを定義し、デプロイできます。各フォルダは1つのエージェントを表し、その設定で<code>root_agent</code>を定義する必要があります。</p>
<p>構造例：</p>
<p><code>txt
your-project-directory/
├── capital_agent/
│   ├── __init__.py
│   └── agent.py       # `root_agent`の定義を含む
├── population_agent/
│   ├── __init__.py
│   └── agent.py       # `root_agent`の定義を含む
└── ...</code></p>
<h4 id="gcloud"><code>gcloud</code>を使用したデプロイ<a class="headerlink" href="#gcloud" title="Permanent link">&para;</a></h4>
<p>ターミナルで<code>your-project-directory</code>に移動します。</p>
<p>```bash
gcloud run deploy capital-agent-service \
--source . \
--region $GOOGLE_CLOUD_LOCATION \
--project $GOOGLE_CLOUD_PROJECT \
--allow-unauthenticated \
--set-env-vars="GOOGLE_CLOUD_PROJECT=$GOOGLE_CLOUD_PROJECT,GOOGLE_CLOUD_LOCATION=$GOOGLE_CLOUD_LOCATION,GOOGLE_GENAI_USE_VERTEXAI=$GOOGLE_GENAI_USE_VERTEXAI"</p>
<h1 id="_18">エージェントが必要とするその他の環境変数を追加<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h1>
<p>```</p>
<ul>
<li><code>capital-agent-service</code>: Cloud Runサービスに付けたい名前。</li>
<li><code>--source .</code>: gcloudに現在のディレクトリのDockerfileからコンテナイメージをビルドするように指示します。</li>
<li><code>--region</code>: デプロイリージョンを指定します。</li>
<li><code>--project</code>: GCPプロジェクトを指定します。</li>
<li><code>--allow-unauthenticated</code>: サービスへのパブリックアクセスを許可します。プライベートサービスの場合はこのフラグを削除します。</li>
<li><code>--set-env-vars</code>: 実行中のコンテナに必要な環境変数を渡します。ADKとエージェントが必要とするすべての変数（Application Default Credentialsを使用しない場合のAPIキーなど）が含まれていることを確認してください。</li>
</ul>
<p><code>gcloud</code>はDockerイメージをビルドし、Google Artifact Registryにプッシュし、Cloud Runにデプロイします。完了すると、デプロイされたサービスのURLが出力されます。</p>
<p>デプロイオプションの完全なリストについては、<a href="https://cloud.google.com/sdk/gcloud/reference/run/deploy"><code>gcloud run deploy</code>リファレンスドキュメント</a>を参照してください。</p>
</div>
<div class="tabbed-block">
<h3 id="gcloud-cli_1">gcloud CLI<a class="headerlink" href="#gcloud-cli_1" title="Permanent link">&para;</a></h3>
<p>標準の<code>gcloud run deploy</code>コマンドと<code>Dockerfile</code>を使用してJavaエージェントをデプロイできます。これは現在、JavaエージェントをGoogle Cloud Runにデプロイする推奨方法です。</p>
<p>Google Cloudで<a href="https://cloud.google.com/docs/authentication/gcloud">認証</a>済みであることを確認してください。
具体的には、ターミナルから<code>gcloud auth login</code>と<code>gcloud config set project &lt;your-project-id&gt;</code>コマンドを実行します。</p>
<h4 id="_19">プロジェクト構造<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<p>プロジェクトファイルを以下のように整理します：</p>
<p><code>txt
your-project-directory/
├── src/
│   └── main/
│       └── java/
│             └── agents/
│                 ├── capitalagent/
│                     └── CapitalAgent.java    # エージェントのコード
├── pom.xml                                    # Java ADKとADK-devの依存関係
└── Dockerfile                                 # コンテナのビルド手順</code></p>
<p>プロジェクトディレクトリのルートに<code>pom.xml</code>と<code>Dockerfile</code>を作成します。エージェントのコードファイル（<code>CapitalAgent.java</code>）は、上記のようにディレクトリ内に配置します。</p>
<h4 id="_20">コードファイル<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>これはエージェントの定義です。これは<a href="../../agents/llm-agents/">LLMエージェント</a>にあるコードと同じですが、2つの注意点があります：</p>
<ul>
<li>
<p>エージェントは<strong>グローバルなpublic static変数</strong>として初期化されます。</p>
</li>
<li>
<p>エージェントの定義は、静的メソッド内か、宣言時にインラインで公開できます。</p>
</li>
</ul>
<p><code>java title="CapitalAgent.java"</code></p>
</li>
<li>
<p><code>pom.xml</code>ファイルに以下の依存関係とプラグインを追加します。</p>
<p>```xml title="pom.xml"
<dependencies>
  <dependency>
     <groupId>com.google.adk</groupId>
     <artifactId>google-adk</artifactId>
     <version>0.1.0</version>
  </dependency>
  <dependency>
     <groupId>com.google.adk</groupId>
     <artifactId>google-adk-dev</artifactId>
     <version>0.1.0</version>
  </dependency>
</dependencies></p>
<p><plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>exec-maven-plugin</artifactId>
  <version>3.2.0</version>
  <configuration>
    <mainClass>com.google.adk.web.AdkWebServer</mainClass>
    <classpathScope>compile</classpathScope>
  </configuration>
</plugin>
```</p>
</li>
<li>
<p>コンテナイメージを定義します：</p>
<p>```dockerfile title="Dockerfile"</p>
<h1 id="use-an-official-maven-image-with-a-jdk-choose-a-version-appropriate-for-your-project">Use an official Maven image with a JDK. Choose a version appropriate for your project.<a class="headerlink" href="#use-an-official-maven-image-with-a-jdk-choose-a-version-appropriate-for-your-project" title="Permanent link">&para;</a></h1>
<p>FROM maven:3.8-openjdk-17 AS builder</p>
<p>WORKDIR /app</p>
<p>COPY pom.xml .
RUN mvn dependency:go-offline -B</p>
<p>COPY src ./src</p>
<h1 id="expose-the-port-your-application-will-listen-on">Expose the port your application will listen on.<a class="headerlink" href="#expose-the-port-your-application-will-listen-on" title="Permanent link">&para;</a></h1>
<h1 id="cloud-run-will-set-the-port-environment-variable-which-your-app-should-use">Cloud Run will set the PORT environment variable, which your app should use.<a class="headerlink" href="#cloud-run-will-set-the-port-environment-variable-which-your-app-should-use" title="Permanent link">&para;</a></h1>
<p>EXPOSE 8080</p>
<h1 id="the-command-to-run-your-application">The command to run your application.<a class="headerlink" href="#the-command-to-run-your-application" title="Permanent link">&para;</a></h1>
<h1 id="tododeveloper-update-the-adkagentssource-dir-to-the-directory-that-contains-your-agents">TODO(Developer): Update the "adk.agents.source-dir" to the directory that contains your agents.<a class="headerlink" href="#tododeveloper-update-the-adkagentssource-dir-to-the-directory-that-contains-your-agents" title="Permanent link">&para;</a></h1>
<h1 id="you-can-have-multiple-agents-in-this-directory-and-all-of-them-will-be-available-in-the-dev-ui">You can have multiple agents in this directory and all of them will be available in the Dev UI.<a class="headerlink" href="#you-can-have-multiple-agents-in-this-directory-and-all-of-them-will-be-available-in-the-dev-ui" title="Permanent link">&para;</a></h1>
<p>ENTRYPOINT ["mvn", "exec:java", \
    "-Dexec.mainClass=com.google.adk.web.AdkWebServer", \
    "-Dexec.classpathScope=compile", \
    "-Dexec.args=--server.port=${PORT} --adk.agents.source-dir=src/main/java" \
]
```</p>
</li>
</ol>
<h4 id="gcloud_1"><code>gcloud</code>を使用したデプロイ<a class="headerlink" href="#gcloud_1" title="Permanent link">&para;</a></h4>
<p>ターミナルで<code>your-project-directory</code>に移動します。</p>
<p>```bash
gcloud run deploy capital-agent-service \
--source . \
--region $GOOGLE_CLOUD_LOCATION \
--project $GOOGLE_CLOUD_PROJECT \
--allow-unauthenticated \
--set-env-vars="GOOGLE_CLOUD_PROJECT=$GOOGLE_CLOUD_PROJECT,GOOGLE_CLOUD_LOCATION=$GOOGLE_CLOUD_LOCATION,GOOGLE_GENAI_USE_VERTEXAI=$GOOGLE_GENAI_USE_VERTEXAI"</p>
<h1 id="_21">エージェントが必要とするその他の環境変数を追加<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h1>
<p>```</p>
<ul>
<li><code>capital-agent-service</code>: Cloud Runサービスに付けたい名前。</li>
<li><code>--source .</code>: gcloudに現在のディレクトリのDockerfileからコンテナイメージをビルドするように指示します。</li>
<li><code>--region</code>: デプロイリージョンを指定します。</li>
<li><code>--project</code>: GCPプロジェクトを指定します。</li>
<li><code>--allow-unauthenticated</code>: サービスへのパブリックアクセスを許可します。プライベートサービスの場合はこのフラグを削除します。</li>
<li><code>--set-env-vars</code>: 実行中のコンテナに必要な環境変数を渡します。ADKとエージェントが必要とするすべての変数（Application Default Credentialsを使用しない場合のAPIキーなど）が含まれていることを確認してください。</li>
</ul>
<p><code>gcloud</code>はDockerイメージをビルドし、Google Artifact Registryにプッシュし、Cloud Runにデプロイします。完了すると、デプロイされたサービスのURLが出力されます。</p>
<p>デプロイオプションの完全なリストについては、<a href="https://cloud.google.com/sdk/gcloud/reference/run/deploy"><code>gcloud run deploy</code>リファレンスドキュメント</a>を参照してください。</p>
</div>
</div>
</div>
<h2 id="_22">エージェントのテスト<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h2>
<p>エージェントがCloud Runにデプロイされたら、デプロイされたUI（有効な場合）を介して、または<code>curl</code>のようなツールを使用して直接APIエンドポイントと対話できます。デプロイ後に提供されるサービスURLが必要です。</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="uiテスト" name="__tabbed_3" type="radio" /><input id="apiテスト-curl" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="uiテスト">UIテスト</label><label for="apiテスト-curl">APIテスト (curl)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h3 id="ui">UIテスト<a class="headerlink" href="#ui" title="Permanent link">&para;</a></h3>
<p>UIを有効にしてエージェントをデプロイした場合：</p>
<ul>
<li><strong>adk CLI:</strong> デプロイ時に<code>--with_ui</code>フラグを含めました。</li>
<li><strong>gcloud CLI:</strong> <code>main.py</code>で<code>SERVE_WEB_INTERFACE = True</code>と設定しました。</li>
</ul>
<p>Webブラウザでデプロイ後に提供されるCloud RunサービスのURLに移動するだけで、エージェントをテストできます。</p>
<p>```bash</p>
<h1 id="url">URL形式の例<a class="headerlink" href="#url" title="Permanent link">&para;</a></h1>
<h1 id="httpsyour-service-name-abc123xyzarunapp">https://your-service-name-abc123xyz.a.run.app<a class="headerlink" href="#httpsyour-service-name-abc123xyzarunapp" title="Permanent link">&para;</a></h1>
<p>```</p>
<p>ADK開発UIを使用すると、エージェントと対話し、セッションを管理し、実行の詳細をブラウザで直接表示できます。</p>
<p>エージェントが意図したとおりに動作していることを確認するには、次のことができます：</p>
<ol>
<li>ドロップダウンメニューからエージェントを選択します。</li>
<li>メッセージを入力し、エージェントから期待される応答を受け取ることを確認します。</li>
</ol>
<p>予期しない動作が発生した場合は、<a href="https://console.cloud.google.com/run">Cloud Run</a>のコンソールログを確認してください。</p>
</div>
<div class="tabbed-block">
<h3 id="api-curl">APIテスト (curl)<a class="headerlink" href="#api-curl" title="Permanent link">&para;</a></h3>
<p><code>curl</code>のようなツールを使用して、エージェントのAPIエンドポイントと対話できます。これは、プログラムによる対話や、UIなしでデプロイした場合に便利です。</p>
<p>デプロイ後に提供されるサービスURLと、サービスが未認証アクセスを許可するように設定されていない場合は認証用のIDトークンが必要です。</p>
<h4 id="url_1">アプリケーションURLの設定<a class="headerlink" href="#url_1" title="Permanent link">&para;</a></h4>
<p>例のURLを、デプロイされたCloud Runサービスの実際のURLに置き換えます。</p>
<p>```bash
export APP_URL="YOUR_CLOUD_RUN_SERVICE_URL"</p>
<h1 id="export-app_urlhttpsadk-default-service-name-abc123xyzarunapp">例： export APP_URL="https://adk-default-service-name-abc123xyz.a.run.app"<a class="headerlink" href="#export-app_urlhttpsadk-default-service-name-abc123xyzarunapp" title="Permanent link">&para;</a></h1>
<p>```</p>
<h4 id="id">IDトークンの取得（必要な場合）<a class="headerlink" href="#id" title="Permanent link">&para;</a></h4>
<p>サービスが認証を必要とする場合（つまり、<code>gcloud</code>で<code>--allow-unauthenticated</code>を使用しなかったか、<code>adk</code>のプロンプトで'N'と答えた場合）、IDトークンを取得します。</p>
<p><code>bash
export TOKEN=$(gcloud auth print-identity-token)</code></p>
<p><em>サービスが未認証アクセスを許可している場合は、以下の<code>curl</code>コマンドから<code>-H "Authorization: Bearer $TOKEN"</code>ヘッダーを省略できます。</em></p>
<h4 id="_23">利用可能なアプリのリスト表示<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<p>デプロイされたアプリケーション名を確認します。</p>
<p><code>bash
curl -X GET -H "Authorization: Bearer $TOKEN" $APP_URL/list-apps</code></p>
<p><em>（必要に応じて、この出力に基づいて以下のコマンドの<code>app_name</code>を調整してください。デフォルトは多くの場合、エージェントディレクトリ名、例：<code>capital_agent</code>です）</em>。</p>
<h4 id="_24">セッションの作成または更新<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<p>特定のユーザーとセッションの状態を初期化または更新します。<code>capital_agent</code>を実際のアプリ名に置き換えてください。<code>user_123</code>と<code>session_abc</code>の値は例であり、希望のユーザーIDとセッションIDに置き換えることができます。</p>
<p><code>bash
curl -X POST -H "Authorization: Bearer $TOKEN" \
    $APP_URL/apps/capital_agent/users/user_123/sessions/session_abc \
    -H "Content-Type: application/json" \
    -d '{"state": {"preferred_language": "English", "visit_count": 5}}'</code></p>
<h4 id="_25">エージェントの実行<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h4>
<p>エージェントにプロンプトを送信します。<code>capital_agent</code>をアプリ名に置き換え、ユーザー/セッションIDとプロンプトを必要に応じて調整します。</p>
<p><code>bash
curl -X POST -H "Authorization: Bearer $TOKEN" \
    $APP_URL/run_sse \
    -H "Content-Type: application/json" \
    -d '{
    "app_name": "capital_agent",
    "user_id": "user_123",
    "session_id": "session_abc",
    "new_message": {
        "role": "user",
        "parts": [{
        "text": "カナダの首都は何ですか？"
        }]
    },
    "streaming": false
    }'</code></p>
<ul>
<li>サーバー送信イベント（SSE）を受信したい場合は、<code>"streaming": true</code>に設定します。</li>
<li>応答には、最終的な回答を含むエージェントの実行イベントが含まれます。</li>
</ul>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  ページトップへ戻る
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="フッター" >
        
          
          <a href="../agent-engine/" class="md-footer__link md-footer__link--prev" aria-label="前: エージェントエンジン">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                前
              </span>
              <div class="md-ellipsis">
                エージェントエンジン
              </div>
            </div>
          </a>
        
        
          
          <a href="../gke/" class="md-footer__link md-footer__link--next" aria-label="次: GKE">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                次
              </span>
              <div class="md-ellipsis">
                GKE
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Google 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>